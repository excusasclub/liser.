{% extends 'partials/base.html' %}
{% load static %}

{% block title %}{{ baglist.title }} | Liser{% endblock %}

{% block content %}
<div class="flex min-h-screen">

    <!-- Sidebar -->
    {% include 'partials/sidebar.html' %}

    <!-- Contenido principal -->
    <main class="flex-1 p-6">


        <section class="mb-6 rounded-xl shadow-lg mx-auto max-w-4xl bg-[#99CB8A]/30 border border-[#8AB77A]/50">
            <div class="flex items-center justify-between px-4 py-2">
                <!-- Título centrado, tamaño aumentado -->
                <h2 class="flex-1 text-center text-lg font-semibold text-gray-900 truncate">
                    {{ baglist.title }}
                </h2>

                <!-- Botón favorito a la derecha -->
                <button class="ml-4 text-yellow-400 text-lg px-2 py-1 rounded hover:bg-yellow-200 transition">
                    ⭐
                </button>
            </div>

            <!-- Contenido compacto en fila: descripción izquierda, tags derecha -->
            <div class="flex items-center justify-between px-3 pb-3 pt-1">
                {% if baglist.description %}
                <p class="text-sm font-semibold text-gray-700 mb-0 flex-1">
                    {{ baglist.description|truncatechars:150 }}
                </p>
                {% endif %}

                <!-- Tags a la derecha -->
                <div class="flex flex-wrap gap-1 ml-4">
                    {% for tag_relation in baglist.baglisttag_set.all %}
                        <span class="bg-white text-gray-900 px-3 py-1 rounded-full text-xs font-semibold shadow-sm">
                            {{ tag_relation.tag.name }}
                        </span>
                    {% endfor %}
                </div>
            </div>
        </section>


        <!-- Sublistas -->
        {% for section in baglist.sections.all %}
            {% include 'partials/baglist_section.html' with section=section %}
        {% endfor %}

    </main>
</div>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/baglist.js' %}"></script>
{% endblock %}
